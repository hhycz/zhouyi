# å‘¨æ˜“åœå¦ç³»ç»Ÿ - é¡¹ç›®ä¸Šä¸‹æ–‡

> æ­¤æ–‡æ¡£ç”¨äºè·¨ä¼šè¯ä¿æŒé¡¹ç›®çŠ¶æ€å’Œä¸Šä¸‹æ–‡ï¼Œé˜²æ­¢AI"å¤±å¿†"ã€‚
> æœ€åæ›´æ–°: 2025-12-15

## é¡¹ç›®æ¦‚è¿°

åŸºäºå‘¨æ˜“çš„æ™ºèƒ½åœå¦ç³»ç»Ÿï¼Œèåˆä¼ ç»Ÿç„å­¦ä¸ç°ä»£AIæŠ€æœ¯ï¼Œæä¾›æ²‰æµ¸å¼çš„äººæœºäº¤äº’ä½“éªŒã€‚

## æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | Vue 3 + TypeScript + Vite |
| åç«¯ | Python 3.12 + FastAPI + Uvicorn |
| AI | Google Gemini API (gemma-3-1b-it) |
| å†æ³• | lunar-python |

## ç›®å½•ç»“æ„

```
zhouyi-divination/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ routers/divination.py     # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ bazi_service.py       # å…«å­—æ’ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ liuyao_service.py     # å…­çˆ»é‡‘é’±å¦
â”‚   â”‚   â”‚   â”œâ”€â”€ interpretation_service.py  # å¦è¾è§£è¯»
â”‚   â”‚   â”‚   â””â”€â”€ gemini_service.py     # AIè§£å¦
â”‚   â”‚   â””â”€â”€ data/hexagram_texts.json  # å¦è¾æ•°æ®åº“
â”‚   â”œâ”€â”€ .env                          # APIå¯†é’¥é…ç½®
â”‚   â””â”€â”€ venv/                         # Pythonè™šæ‹Ÿç¯å¢ƒ
â””â”€â”€ frontend/
    â””â”€â”€ src/
        â”œâ”€â”€ components/
        â”‚   â”œâ”€â”€ chat/ChatContainer.vue    # ä¸»å¯¹è¯ç•Œé¢
        â”‚   â”œâ”€â”€ widgets/
        â”‚   â”‚   â”œâ”€â”€ BreathGuide.vue       # å‡€å¿ƒå‘¼å¸å¼•å¯¼
        â”‚   â”‚   â”œâ”€â”€ CoinToss.vue          # æŠ›å¸åŠ¨ç”»
        â”‚   â”‚   â””â”€â”€ ...
        â”‚   â”œâ”€â”€ results/
        â”‚   â”‚   â”œâ”€â”€ BaziChart.vue         # å…«å­—æ’ç›˜å±•ç¤º
        â”‚   â”‚   â””â”€â”€ LiuyaoChart.vue       # å…­çˆ»å¦è±¡å±•ç¤º
        â”‚   â””â”€â”€ background/
        â”‚       â””â”€â”€ MysticalBackground.vue # ç¥ç§˜èƒŒæ™¯åŠ¨ç”»
        â””â”€â”€ api/index.ts                  # APIå®¢æˆ·ç«¯
```

## å·²å®ŒæˆåŠŸèƒ½ âœ…

### æ ¸å¿ƒåŠŸèƒ½
- [x] å…«å­—æ’ç›˜ï¼ˆå››æŸ±ã€è—å¹²ã€åç¥ã€å¤§è¿ï¼‰
- [x] çœŸå¤ªé˜³æ—¶æ ¡æ­£ï¼ˆç»çº¬åº¦+æ—¶å·®æ–¹ç¨‹ï¼‰
- [x] å…­çˆ»é‡‘é’±å¦ï¼ˆ64å¦ã€å…­å…½ã€ä¸–åº”ã€å˜å¦ï¼‰
- [x] å¦è¾æ•°æ®åº“ï¼ˆ8å¦å®Œæˆï¼Œå«å¦è¾+çˆ»è¾ï¼‰
- [x] AIæ™ºèƒ½è§£å¦ï¼ˆGemini APIé›†æˆï¼‰

### äº¤äº’ä½“éªŒ
- [x] å¯¹è¯å¼å¼•å¯¼æµç¨‹
- [x] å‡€å¿ƒå‘¼å¸å¼•å¯¼åŠ¨ç”»ï¼ˆ3æ¬¡æ·±å‘¼å¸ï¼‰
- [x] æŠ›å¸3DåŠ¨ç”»æ•ˆæœ
- [x] ç¥ç§˜å‘¨æ˜“é£æ ¼èƒŒæ™¯ï¼ˆå…«å¦é˜µ+å¤ªæ+æ˜Ÿè¾°ï¼‰

## å¾…å¼€å‘åŠŸèƒ½ ğŸš§

- [ ] è¡¥å……å®Œæ•´64å¦çˆ»è¾æ•°æ®
- [ ] æ¢…èŠ±æ˜“æ•°èµ·å¦
- [ ] ç´«å¾®æ–—æ•°
- [ ] ç”¨æˆ·è´¦å·ä¸å‘½ä¹¦å­˜å‚¨
- [ ] åˆç›˜åˆ†æ

## é…ç½®ä¿¡æ¯

### ç«¯å£
- å‰ç«¯: http://localhost:3000
- åç«¯: http://localhost:8000

### ç¯å¢ƒå˜é‡
```bash
# backend/.env
GEMINI_API_KEY=AIzaSyAH_anhJqXh90eZNe1BcFkvZ2vIFJAJb_o
```

## å¯åŠ¨å‘½ä»¤

```bash
# åç«¯
cd backend && source venv/bin/activate
uvicorn app.main:app --host 0.0.0.0 --port 8000

# å‰ç«¯
cd frontend && npm run dev
```

## é‡è¦å¤‡æ³¨

1. Gemini APIä½¿ç”¨ `gemma-3-1b-it` æ¨¡å‹ï¼ˆæ— é…é¢é™åˆ¶ï¼‰
2. å¦è¾æ•°æ®åœ¨ `backend/app/data/hexagram_texts.json`
3. å‰ç«¯APIè°ƒç”¨åŸºç¡€URLä¸º `http://localhost:8000/api`
